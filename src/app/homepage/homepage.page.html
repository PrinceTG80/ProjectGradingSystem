<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Projects</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <!-- <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Category</ion-title>
    </ion-toolbar>
  </ion-header> -->
  <div >
      <ion-row >
          <ion-col size="3" class=categoryFilterLabel>
              <ion-label>
                  Projects
              </ion-label>
          </ion-col>
          <ion-col size="9">
              <ion-button class="select_button">
                  <ion-select interface="popover" value="All" (ionChange)="filterPosts($event)">
                      <ion-select-option value="All">All</ion-select-option>
                      <ion-select-option value={{cats}} *ngFor="let cats of this.sharedService.myPostCategories">
                          <div>
                              <label class="select_cat">{{cats}}</label>
                          </div>
                      </ion-select-option>
                  </ion-select>
              </ion-button>
          </ion-col>
      </ion-row>
      <ion-row *ngFor="let project of this.sharedService.projects; let i = index;" [attr.data-index]='i' >
          <ion-card class="card">
              <ion-card-content>
                  <ion-row>
                      
                      <ion-col size="3" class="col1">
                          <img src="../assets/images/img.jpg" class="image">
                      </ion-col>
                      <ion-col size="7" class="col2">
                          <p class="prod_name">{{project.projectTitle}}</p>
                          <p class="category">{{project.modules[0].moduleName}}</p>
                          <br>
                          <!-- <p>Range: {{user.range}} Km</p> -->
                          <p class="date_time">Posted On: </p>

                          <!-- <p style=" font-weight: lighter;">{{user.subcategory}}</p> -->
                      </ion-col>
                      <!-- <ion-col size="2" class="col3">
                          <ion-badge [color]="project.status === 'pending...' ? 'warning': project.status === 'successful' ? 'success':project.status === 'unsuccessful' ? 'danger':'' " class="status">{{post.status}}</ion-badge>
                      </ion-col> -->
                        <ion-item style = "width: 100%;">
                          <ion-label>Status</ion-label>
                          <ion-select placeholder="Select One" (ionChange) = "getStatus($event,i)">
                            <ion-select-option [value]="pe">Pending</ion-select-option>
                            <ion-select-option [value]="s">Started</ion-select-option>
                            <ion-select-option [value]="pr">Progress</ion-select-option>
                            <ion-select-option [value]="c">Complete</ion-select-option>
                          </ion-select>
                        </ion-item>
                  </ion-row>
              </ion-card-content>
          </ion-card>
          <ion-button (click) = navigateto(i) [routerLink]="['generate-project']"> Generate Report </ion-button>
      </ion-row>
    </div>
    <ion-button (click) = "displayProjects()">Refresh</ion-button>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <ion-icon name="add-circle" class="create" [routerLink]="['add-project']"></ion-icon>
  </ion-fab>
</ion-content>
